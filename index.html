<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.144.2"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Beoning</title>
<meta name=keywords content="Blog,Golang,PersonalBlog,PaperMod"><meta name=description content="æˆ‘çš„ä¸ªäººåšå®¢"><meta name=author content="Max"><link rel=canonical href=https://www.soundpill.cn/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://www.soundpill.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.soundpill.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.soundpill.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://www.soundpill.cn/apple-touch-icon.png><link rel=mask-icon href=https://www.soundpill.cn/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://www.soundpill.cn/index.xml><link rel=alternate hreflang=en href=https://www.soundpill.cn/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-1EGGF92BPQ"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-1EGGF92BPQ")}</script><meta property="og:url" content="https://www.soundpill.cn/"><meta property="og:site_name" content="Beoning"><meta property="og:title" content="Beoning"><meta property="og:description" content="æˆ‘çš„ä¸ªäººåšå®¢"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://www.soundpill.cn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.soundpill.cn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Beoning"><meta name=twitter:description content="æˆ‘çš„ä¸ªäººåšå®¢"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Beoning","url":"https://www.soundpill.cn/","description":"æˆ‘çš„ä¸ªäººåšå®¢","logo":"https://www.soundpill.cn/favicon.ico","sameAs":["https://github.com/muyehub","https://space.bilibili.com/4357760","https://www.yuque.com/muyeyu","https://www.douyin.com/user/MS4wLjABAAAA11uINk66g6TwJgqKpRWFT1uoEUK8_ygfw9TEQHXXsVc"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.soundpill.cn/ accesskey=h title="Beoning (Alt + H)"><img src=https://s2.loli.net/2022/01/17/bnDIUk5RZhK2CgY.png alt aria-label=logo height=35>Beoning</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Hi there ğŸ‘‹</h1></header><div class=entry-content>Take my broken heart, make it into art.</div><footer class=entry-footer><div class=social-icons><a href=https://github.com/muyehub target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a href=https://space.bilibili.com/4357760 target=_blank rel="noopener noreferrer me" title=Bilibili><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round"><rect x="1.3333" y="6" width="21.333" height="15.333" rx="4" ry="4"/><path d="m8 12.4v1.2"/><path d="m16 12.4v1.2"/><path d="m5.8853 2.6667L8.552 5.3334"/><path d="m18.115 2.6667-2.6667 2.6667"/></svg>
</a><a href=https://www.yuque.com/muyeyu target=_blank rel="noopener noreferrer me" title=Yuque><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg>
</a><a href=https://www.douyin.com/user/MS4wLjABAAAA11uINk66g6TwJgqKpRWFT1uoEUK8_ygfw9TEQHXXsVc target=_blank rel="noopener noreferrer me" title=Douyin><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ä½¿ç”¨ vscode + deepseek ä»£æ›¿ cursor</h2></header><div class=entry-content><p>ä½¿ç”¨ vscode + deepseek ä»£æ›¿ cursor</p></div><footer class=entry-footer><span title='2025-01-18 23:25:35 +0800 CST'>January 18, 2025</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Max</footer><a class=entry-link aria-label="post link to ä½¿ç”¨ vscode + deepseek ä»£æ›¿ cursor" href=https://www.soundpill.cn/posts/2025-01-18-vscode-add-deepseek-equal-cursor/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ç”± append å¼•å‘çš„ä¸€ä¸ªç–‘é—®</h2></header><div class=entry-content><p>ç”± append å¼•å‘çš„ä¸€ä¸ªç–‘é—® æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªé—®é¢˜
package main import "fmt" func main() { a := make([]int, 0, 5) AddElm(a, 5) fmt.Println(a) } func AddElm(a []int, i int) { a = append(a, i) } ä¸Šé¢è¿™ä¸€æ®µä»£ç ä¸­ï¼Œa è¿™ä¸ªåˆ‡ç‰‡ä¼šè¾“å‡ºä»€ä¹ˆå‘¢ï¼Ÿå¯ä»¥è¯•ç€è¿è¡Œä¸€ä¸‹
ç­”æ¡ˆæ˜¯ç©ºåˆ‡ç‰‡ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬çŸ¥é“ append è¿™ä¸ªæ“ä½œï¼Œåœ¨å®¹é‡è¶³å¤Ÿçš„æƒ…å†µä¸‹æ˜¯ä¸ä¼šæ–°ç”Ÿæˆä¸€ä¸ª slice æ¥è¿›è¡Œæ‰©å®¹çš„ï¼Œæ‰€ä»¥è¿™é‡Œæ’é™¤è¿™ç§æƒ…å†µã€‚
å·²çŸ¥è¿™ä¸ª slice ä¹Ÿæ˜¯å€¼ä¼ é€’çš„æ–¹å¼ä¼ å…¥çš„ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å› ä¸ºä»– copy äº†ä¸€ä»½æ•°æ®åˆ°å‡½æ•°å†…éƒ¨ä»è€Œå¯¼è‡´çš„å‡½æ•°å†…å¤–ä¸ä¸€è‡´çš„æƒ…å†µå‘¢ï¼Ÿæˆ‘ä»¬æ‰“å°åœ°å€çœ‹ä¸€ä¸‹
package main import "fmt" func main() { a := make([]int, 0, 5) fmt.Printf("before: %p\n", a) AddElm(a, 5) fmt.Printf("after: %p\n", a) fmt.Println(a) } func AddElm(a []int, i int) { a = append(a, i) fmt.Printf("under: %p\n", a) } // è¾“å‡ºå¦‚ä¸‹ï¼š // before: 0xc0000a8030 // under: 0xc0000a8030 // after: 0xc0000a8030 // [] å¯ä»¥å‘ç°ï¼Œåœ¨ç”³æ˜å¼€å§‹-å‡½æ•°å†…-å‡½æ•°è¿½åŠ èµ‹å€¼ç»“æŸæ—¶æ‰“å°ï¼Œè¿™ä¸‰ä¸ªåœ°å€éƒ½æ˜¯ä¸€æ ·çš„ã€‚
...</p></div><footer class=entry-footer><span title='2022-02-20 18:02:55 +0800 CST'>February 20, 2022</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;Max</footer><a class=entry-link aria-label="post link to ç”± append å¼•å‘çš„ä¸€ä¸ªç–‘é—®" href=https://www.soundpill.cn/posts/2022-02-20-golang-slice-question/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>golang ä¸­æé˜²ç«æ€æ¡ä»¶çš„äº§ç”Ÿ</h2></header><div class=entry-content><p>æˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š
package main import ( "time" ) type testInt struct { Num int } func main() { a := make([]int, 0) for i := 1; i &lt; 10; i++ { a = append(a, i) } t := testInt{Num: 1} for _, v := range a { go func(i int) { t.Num = i pTs(t) }(v) } time.Sleep(time.Second*3) } func pTs(t testInt) { println(t.Num) } ä½ å¯ä»¥å¤åˆ¶å‡ºæ¥æ‰§è¡Œä¸€ä¸‹ï¼Œä¼šä¸ä¼šæœ‰é—®é¢˜å‘¢ï¼Ÿä»æ‰§è¡Œçš„ç»“æœæ¥çœ‹ï¼Œæ˜¯æ²¡é—®é¢˜çš„ã€‚ ä½†æ˜¯å¦‚æœä½ è¦åŠ ä¸Š -race å‚æ•°å»æ‰§è¡Œï¼Œå°±ä¼šå‘ç°åœ¨ t.Num = i è¿™é‡ŒæŠ¥é”™äº†ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ è¿™å°±è¦è¯´åˆ°ä¸€ä¸ª go è¯­è¨€çš„ç¼–ç¨‹å¸¸è¯†äº†(å¯èƒ½ä¸é™è¯­è¨€)ï¼Œå°±æ˜¯åœ¨å¤šä¸ªåç¨‹å»å¤„ç†ä¸€ä¸ªå˜é‡çš„æ—¶å€™è®°å¾—è¦åŠ é”æˆ–è€…ç”¨ atomic è¿›è¡ŒåŸå­æ“ä½œï¼Œä¸ç®¡ç»“æœæ˜¯å¦æ­£å¸¸ã€‚å› ä¸ºå¦‚æœä¸è¿™ä¹ˆåšï¼Œæœ‰å¤©å‡ºäº†é—®é¢˜å¯æ˜¯ä¸å¥½æ’æŸ¥çš„ã€‚
å»ºè®®å¤§å®¶æ‹¿åˆ°é™Œç”Ÿä»£ç ï¼Œéƒ½ -race å»æ£€æµ‹ä¸€ä¸‹ï¼Œå°±æ˜¯è¿™æ ·ã€‚
å¯¹äºä¸ºä»€ä¹ˆä¸åŠ é”æ‰§è¡Œèµ·æ¥ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œæˆ‘è¿˜æ²¡æœ‰æƒ³æ˜ç™½ï¼Œå¸Œæœ›æœ‰å¤§æ˜ç™½èƒ½æŒ‡ç‚¹ä¸€äºŒã€‚</p></div><footer class=entry-footer><span title='2022-02-09 22:33:25 +0800 CST'>February 9, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Max</footer><a class=entry-link aria-label="post link to golang ä¸­æé˜²ç«æ€æ¡ä»¶çš„äº§ç”Ÿ" href=https://www.soundpill.cn/posts/2022-02-09-go-race-data/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>æ§åˆ¶ goroutine æ‰§è¡Œé¡ºåºçš„ä¸€ä¾‹</h2></header><div class=entry-content><p>ä¾æ¬¡æ‰“å° é¢˜ç›®ï¼šä¾æ¬¡è¾“å‡º dogã€pigã€sheepï¼Œå¹¶æ‰§è¡Œ 100 æ¬¡ï¼Œæ¯ä¸ªè¾“å‡ºéƒ½éœ€è¦ä¸€ä¸ªå•ç‹¬çš„ goroutine
è¿™é‡Œæˆ‘ä»¬é€šè¿‡æœ‰ç¼“å†²çš„å®¹é‡ä¸º 1 çš„ channel æ¥æ ‡è®°çŠ¶æ€ï¼Œé€šè¿‡ for-select ç»“æ„æ¥æ§åˆ¶å½“å‰è¦è¾“å‡ºå“ªä¸€ä¸ªå•è¯ï¼Œå› ä¸º select åœ¨ channel é˜»å¡çš„æ—¶å€™ä¸ä¼šæ‰§è¡Œå¯¹åº”çš„ caseï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªç‰¹æ€§æ¥æ“ä½œã€‚
å…·ä½“æ€è·¯å¦‚ä¸‹ï¼š
è®¾ç½®ä¸‰ä¸ª channelï¼Œåˆå§‹åŒ–æ—¶ä½¿ dog çš„ channel ä¸­æœ‰ä¸€æ¡æ•°æ®ï¼Œè¿™æ · select å°±ä¼šå…ˆè¾“å‡º dog ç„¶ååœ¨ dog çš„ case ä¸­ç»“æŸçš„æ—¶å€™ç»™ pig çš„ channel ä¸­æ–°å¢ä¸€æ¡æ•°æ®ï¼Œè¿™æ ·ä¸‹æ¬¡å°±ä¼šè¿›å…¥ pig çš„ case è¿›è¡Œè¾“å‡ºæ“ä½œ è¿‡ç¨‹ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ atomic åŒ…æ¥æ§åˆ¶æ¬¡æ•°ï¼Œä¸ä¼šäº§ç”Ÿå¹¶å‘é—®é¢˜ å…·ä½“ä»£ç å¦‚ä¸‹ï¼š
package main import ( "fmt" "sync" "sync/atomic" ) var wg sync.WaitGroup var counter uint64 = 0 var dogChan = make(chan struct{}, 1) var pigChan = make(chan struct{}, 1) var sheepChan = make(chan struct{}, 1) func main() { wg.Add(1) go animalPrint() dogChan &lt;- struct{}{} wg.Wait() } func animalPrint() { for { if counter == uint64(300) { wg.Done() return } select { case &lt;-dogChan: fmt.Println("dog") atomic.AddUint64(&amp;counter, 1) pigChan &lt;- struct{}{} case &lt;-pigChan: fmt.Println("pig") atomic.AddUint64(&amp;counter, 1) sheepChan &lt;- struct{}{} case &lt;-sheepChan: fmt.Println("sheep") atomic.AddUint64(&amp;counter, 1) dogChan &lt;- struct{}{} } } } æ˜¯ä¸æ˜¯è§‰å¾—é‡å¤ä»£ç æœ‰ç‚¹å¤šï¼Ÿ æˆ‘ä»¬è¿˜æ˜¯ä¾ç…§ä¸Šé¢çš„æ€è·¯ï¼ŒæŠŠä»£ç æ¢ç§æ–¹å¼å®ç°ï¼š
...</p></div><footer class=entry-footer><span title='2022-02-08 22:14:29 +0800 CST'>February 8, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Max</footer><a class=entry-link aria-label="post link to æ§åˆ¶ goroutine æ‰§è¡Œé¡ºåºçš„ä¸€ä¾‹" href=https://www.soundpill.cn/posts/2022-02-08-go-alter-print/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>æ¨èä¸¤ä¸ªå­¦ä¹  go çš„ç½‘ç«™</h2></header><div class=entry-content><p>ä¸€ä¸ªå°±æ˜¯ exercism, è¿™é‡Œä¸å…‰å¯ä»¥ç»ƒä¹  go çš„åŸºæœ¬è¯­æ³•å’Œå¸¸è¯†ï¼Œè¿˜å¯ä»¥é€‰æ‹©å…¶ä»–çš„è¯­è¨€ï¼Œå¤§éƒ¨åˆ†çš„ç¼–ç¨‹è¯­è¨€éƒ½æ˜¯å¯ä»¥å­¦ä¹ çš„ï¼Œé€šè¿‡ä¸€ä¸ªä¸ªä»»åŠ¡å»å®Œæˆæ¥æŒæ¡ä¸€é—¨ç¼–ç¨‹è¯­è¨€ï¼Œå¾ˆæœ‰æˆå°±æ„Ÿã€‚
åœ¨æŒæ¡äº†åŸºæœ¬çš„è¯­æ³•åå°±éœ€è¦é¡¹ç›®æ¥ç»ƒæ‰‹ï¼Œä½†æ˜¯ä¸çŸ¥é“åº”è¯¥å†™äº›ä»€ä¹ˆä¸œè¥¿çš„æ—¶å€™å¯ä»¥å‚è€ƒgophercisesè¿™ä¸ªç½‘ç«™ï¼Œé‡Œé¢ä¼šæœ‰å„ç§ç»ƒæ‰‹é¡¹ç›®ï¼Œæ¯”å¦‚å¦‚ä½•ç”Ÿæˆä¸€ä¸ªçŸ­é“¾æ¥ï¼Œå¦‚ä½•åˆ¶ä½œä¸€ä¸ªæ–‡ä»¶é‡å‘½åå·¥å…·ç­‰ç­‰ã€‚
ç»è¿‡ä¸¤ä¸ªç½‘ç«™çš„å­¦ä¹ ï¼Œå†åŠ ä¸Šä¸€ç‚¹ç‚¹æ‚Ÿæ€§ï¼Œç›¸ä¿¡å¾ˆå¿«å°±å¯ä»¥ä¸Šæ‰‹äº†</p></div><footer class=entry-footer><span title='2022-01-22 17:24:26 +0800 CST'>January 22, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Max</footer><a class=entry-link aria-label="post link to æ¨èä¸¤ä¸ªå­¦ä¹  go çš„ç½‘ç«™" href=https://www.soundpill.cn/posts/2022-01-22-study-go-website/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ç”¨ go å®ç°ä¸€ä¸ªç®€æ˜“èŠå¤©å®¤</h2></header><div class=entry-content><p>æ¦‚è¿° firstï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæˆ¿é—´ï¼Œå¯ä»¥ä½¿ç”¨ net åŒ…ç›´æ¥å¯åŠ¨ä¸€ä¸ªå¸¸é©»çš„ tcp æœåŠ¡ secondï¼Œæˆ‘ä»¬éœ€è¦æœ‰ç”¨æˆ·çš„ä¿¡æ¯ï¼Œç”¨æˆ·é€šè¿‡è®¿é—® tcp æœåŠ¡æ¥è¿›å…¥æˆ¿é—´ endï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç”¨æˆ·è¿›å…¥/ç¦»å¼€æˆ¿é—´æ—¶å¯¹å…¶ä»–ç”¨æˆ·è¿›è¡Œå¹¿æ’­ï¼Œè¿˜éœ€è¦å°†ç”¨æˆ·åœ¨æˆ¿é—´å†…äº§ç”Ÿçš„æ¶ˆæ¯å‘é€åˆ°æˆ¿é—´é‡Œè®©å…¶ä»–ç”¨æˆ·çœ‹è§
å®ç° æˆ‘ä»¬é€šè¿‡è®¾å®šä¸‰ä¸ª channel æ¥åˆ†åˆ«æ ‡è®°ç”¨æˆ·è¿›å…¥æˆ¿é—´ã€ç”¨æˆ·ç¦»å¼€æˆ¿é—´å’Œç”¨æˆ·å¹¿æ’­æ¶ˆæ¯çš„å­˜å‚¨ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª tcp æœåŠ¡å™¨ï¼Œæ–°å»ºä¸€ä¸ª server.go çš„æ–‡ä»¶ï¼Œç„¶åé€šè¿‡ net åŒ…æ¥åˆå§‹åŒ– tcp æœåŠ¡å™¨ï¼Œç«¯å£å°±é€‰æ‹© 2022ã€‚ç›‘å¬å™¨åˆ›å»ºå®Œæ¯•åæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒé‡Œé¢æœ‰ä¸‰ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ Acceptã€Close å’Œ Addrï¼ŒClose å°±æ˜¯ç”¨æ¥å…³é—­è¿™ä¸ªç«¯å£ç›‘å¬ï¼ŒAddr å°±æ˜¯è¿”å›ç›‘å¬å™¨æ‰€å¯¹åº”çš„ ipï¼Œè¿™é‡Œé»˜è®¤çš„è¯ä¹Ÿå°±æ˜¯æœ¬åœ°çš„ ipï¼ŒAccept æ–¹æ³•å°±æ˜¯è¿”å›ä¸€ä¸ªè¿æ¥ï¼Œä¸€æ—¦æœ‰äººè¯·æ±‚è¿™ä¸ªæ–‡ä»¶ï¼Œå°±æ„å‘³ç€äº§ç”Ÿä¸€ä¸ªè¿æ¥ï¼Œå¦‚æœæ²¡æœ‰äººè¯·æ±‚é‚£ä¹ˆ Accept å°±ä¼šç­‰å¾…ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ä¸€ä¸ªæ­»å¾ªç¯æ¥è®©å®ƒå¯ä»¥é‡å¤çš„æ¥å—å¤šä¸ªè¿æ¥è¯·æ±‚ã€‚
listener, err := net.Listen("tcp", ":2022") if err != nil { panic(err) } for { conn, err := listener.Accept() if err != nil { log.Println(err) continue } go handleConn(conn) } ç„¶åå°±æ˜¯ handleConn è¿™ä¸ªæ–¹æ³•ï¼Œå°†æ¯æ¬¡çš„è¿æ¥ä¼ å…¥è¿›å»ï¼Œç„¶ååˆå§‹åŒ–è¿æ¥çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå†é€šè¿‡ä¸€ä¸ªåç¨‹å°†ç”¨æˆ·æ¶ˆæ¯é€šé“é‡Œçš„ä¿¡æ¯æ‹¿å‡ºæ¥æ¶ˆè´¹ï¼Œæ¥ä¸‹æ¥åšçš„å°±æ˜¯å‘ç”¨æˆ·è¿›å…¥/ç¦»å¼€çš„æ¶ˆæ¯ channel ä¸­å†™å…¥è¯¥ç”¨æˆ·å·²ç»ä¸Šçº¿æˆ–ç”¨æˆ·ç¦»å¼€çš„æ¶ˆæ¯ï¼Œç„¶åå†å°†ç”¨æˆ·è®°å½•åˆ°ç”¨æˆ·åˆ—è¡¨ä¸­ã€‚æœ€åé€šè¿‡æ‰«æè¯¥è¿æ¥æ¥è¯»å–ç”¨æˆ·çš„è¾“å…¥å†…å®¹ã€‚
func handleConn(conn net.Conn) { defer conn.Close() // 1. æ–°ç”¨æˆ·è¿›æ¥ï¼Œæ„å»ºè¯¥ç”¨æˆ·çš„å®ä¾‹ user := &amp;User{ ID: GenUserID(), Addr: conn.RemoteAddr().String(), EnterAt: time.Now(), MessageChannel: make(chan string, 8), } // 2. ç”±äºå½“å‰æ˜¯åœ¨ä¸€ä¸ªæ–°çš„ goroutine ä¸­è¿›è¡Œè¯»æ“ä½œçš„ï¼Œ æ‰€ä»¥éœ€è¦å¼€ä¸€ä¸ª goroutine ç”¨æˆ·å†™æ“ä½œã€‚è¯»å†™ goroutine ä¹‹é—´å¯ä»¥é€šè¿‡ channel è¿›è¡Œé€šä¿¡ go sendMessage(conn, user.MessageChannel) // 3. ç»™å½“å‰ç”¨æˆ·å‘é€æ¬¢è¿ä¿¡æ¯ï¼Œå‘æ‰€æœ‰ç”¨æˆ·å‘ŠçŸ¥æ–°ç”¨æˆ·åˆ°æ¥ user.MessageChannel &lt;- "Welcome, " + user.String() messageChannel &lt;- "user:`" + strconv.Itoa(user.ID) + "` has enter" // 4. è®°å½•åˆ°å…¨å±€ç”¨æˆ·åˆ—è¡¨ä¸­ï¼Œé¿å…ç”¨é” enteringChannel &lt;- user // 5. å¾ªç¯è¯»å–ç”¨æˆ·è¾“å…¥ input := bufio.NewScanner(conn) for input.Scan() { messageChannel &lt;- strconv.Itoa(user.ID) + ":" + input.Text() } if err := input.Err(); err != nil { log.Println("è¯»å–é”™è¯¯ï¼š", err) } // 6. ç”¨æˆ·ç¦»å¼€ leavingChannel &lt;- user messageChannel &lt;- "user:`" + strconv.Itoa(user.ID) + "` has left" } ä¸Šé¢è¿™æ®µä»£ç æœ‰ä¸¥æ ¼çš„æ‰§è¡Œé¡ºåºï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ€åè¿ç”¨æˆ·ç¦»å¼€æ¶ˆæ¯ä¹Ÿä¸€å¹¶å‘é€ä½†æ˜¯å´æ²¡æœ‰çœ‹åˆ°åˆ¤æ–­è¿æ¥æ–­å¼€çš„ä»£ç ï¼Œé‚£æ˜¯å› ä¸ºä¸Šé¢ç›‘å¬ç”¨æˆ·è¾“å…¥çš„ä»£ç é˜»å¡äº†æµç¨‹ï¼Œå½“ç”¨æˆ·æ–­å¼€æ—¶è‡ªç„¶å°±ä¼šå¾€ä¸‹èµ°äº†ã€‚å¦‚æœè¦æ‰‹åŠ¨åˆ¤æ–­ net.Conn æ˜¯å¦æ–­å¼€ï¼Œç„¶åå†ç»§ç»­æ“ä½œçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ª byte ç±»å‹çš„åˆ‡ç‰‡ï¼Œå°†å½“å‰æ—¶é—´é€šè¿‡ net åŒ…ä¸‹çš„ SetReadDeadline å‡½æ•°ä¼ å…¥ï¼Œç„¶åä½¿ç”¨ net åŒ…ä¸‹çš„ read æ–¹æ³•æ¥è¯»å–è¿™ä¸ª byte åˆ‡ç‰‡ï¼Œå½“å‘ç”Ÿé”™è¯¯ä¿¡æ¯å¹¶ä¸”é”™è¯¯ä¿¡æ¯æ˜¯ io.EOF ç±»å‹æ—¶ï¼Œè¯´æ˜è¿æ¥å·²ç»æ–­å¼€ï¼Œå…·ä½“ä»£ç å¯ä»¥å‚è€ƒè¿™é‡Œï¼šBest way to reliably detect that a TCP connection is closed
...</p></div><footer class=entry-footer><span title='2022-01-22 16:27:33 +0800 CST'>January 22, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;max</footer><a class=entry-link aria-label="post link to ç”¨ go å®ç°ä¸€ä¸ªç®€æ˜“èŠå¤©å®¤" href=https://www.soundpill.cn/posts/2022-01-22-go-simple-chatroom/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>å°†è§†é¢‘åˆ‡å‰²ä¸ºå‡ç­‰çš„æ—¶é—´é•¿åº¦</h2></header><div class=entry-content><p>å‰æƒ…æè¦ æœ‰æ—¶å€™åœ¨æŸäº›è½¯ä»¶ä¸­å°†å•æ¬¡å¯å‘é€çš„è§†é¢‘æ—¶é•¿é™åˆ¶ä¸º 5 åˆ†é’Ÿæˆ–è€… 15 åˆ†é’Ÿ, æ€»ä¹‹å°±æ˜¯ä¸€ä¸ªå›ºå®šçš„é•¿åº¦, è¿™æ ·åœ¨æˆ‘ä»¬å‘é€è¶…è¿‡æ—¶é•¿çš„è§†é¢‘æ—¶ä¼šæ¯”è¾ƒä¸æ–¹ä¾¿.
æ‰€ä»¥å†™ä¸€æ®µç¨‹åºæ¥è‡ªåŠ¨æŒ‰ç…§ä¼ å…¥çš„æ—¶é—´æ¥ç­‰åˆ†è§†é¢‘.
å½“ç„¶è¿™åªæ˜¯å…¶ä¸­ä¸€ä¸ªåœºæ™¯.
åˆ©ç”¨ goroutine å’Œ FFmpeg é¦–å…ˆè·å–è§†é¢‘é•¿åº¦ä¿¡æ¯å¯ä»¥é€šè¿‡ ffprobe å‘½ä»¤æ¥è·å–, è¿™ä¸ªæ˜¯ FFmpeg ä¸‹çš„ä¸€ä¸ªå·¥å…·åŒ…, å®‰è£… FFmpeg åå°±ä¼šæœ‰äº†.
ç„¶åæ‹¿åˆ°è§†é¢‘æ€»æ—¶é•¿åæ ¹æ®ä¼ å…¥çš„åˆ†é’Ÿæ•°æ¥åˆ†å‰²è§†é¢‘, è¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ° ffmpeg å‘½ä»¤äº†.
æœ€åå¯åŠ¨ goroutine æ¥å¼‚æ­¥åˆ†å‰²æ¯ä¸€æ®µè§†é¢‘, æœ€ç»ˆå®Œæˆ.
å·¥å…·åœ°å€ https://github.com/muyehub/cut_video_avg</p></div><footer class=entry-footer><span title='2021-12-02 14:48:45 +0800 CST'>December 2, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;max</footer><a class=entry-link aria-label="post link to å°†è§†é¢‘åˆ‡å‰²ä¸ºå‡ç­‰çš„æ—¶é—´é•¿åº¦" href=https://www.soundpill.cn/posts/2021-12-02-cut-video-avg/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>golang ç¼–ç¨‹é™·é˜±---æ‘˜è‡ªã€Šgo ä¸“å®¶ç¼–ç¨‹ã€‹</h2></header><div class=entry-content><p>å…³äºåˆ‡ç‰‡æ‰©å®¹ åœ¨ä½¿ç”¨ append å‘ slice ä¸­è¿½åŠ å…ƒç´ æ—¶ï¼Œå¦‚æœ slice å®¹é‡ä¸è¶³ä»¥å­˜å‚¨æ–°å…ƒç´ ï¼Œåˆ™ä¼šæŠŠå½“å‰åˆ‡ç‰‡æ‰©å®¹å¹¶äº§ç”Ÿä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ã€‚å¦‚ä¸‹ï¼š
package main import "fmt" func main() { s := make([]int, 0) w := append(s, 1) t := append(s, 2) v := append(s, 3) fmt.Printf("%p, %p , %p , %p, %p", s, w, t, v) } // 0x116ce80, 0xc00001c198 , 0xc00001c1a0 , 0xc00001c1a8 append ä¼šæ¯æ¬¡éƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ï¼Œå¹¶ä¸”æ¯æ¬¡éƒ½ä¼šåšæ‰©å®¹æ“ä½œï¼Œå…ƒåˆ‡ç‰‡ s å¹¶æ²¡æœ‰æ”¹å˜ä»»ä½•ã€‚
æ‰€ä»¥ï¼Œåœ¨æ“ä½œä¸­è¦å°† append çš„è¿”å›å€¼æ¥æ”¶ï¼Œå¦‚æœä¸æ¥æ”¶ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œå¦‚æœç”¨ _ å¿½ç•¥è¿”å›å€¼ï¼Œåˆ™éœ€è¦è€ƒè™‘æ‰©å®¹çš„æƒ…å†µï¼Œé¿å…æ»¥ç”¨ã€‚
ç©ºåˆ‡ç‰‡ å‘ slice ä¸­ append ç©ºå€¼(nil)æ—¶ä¹Ÿä¼šå¢åŠ  slice çš„é•¿åº¦ï¼Œè¿™åœ¨æœ‰äº›æƒ…å†µä¸‹å¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„é”™è¯¯ï¼Œå¹¶ä¸”ä¸æ˜“å¯Ÿè§‰ï¼Œä¹¦ä¸­ä¸¾äº†ä¸€ä¸ª Kubernetes é¡¹ç›®ä¸­çš„ä¾‹å­ã€‚
æœ‰ä¸€ä¸ªé”™è¯¯æ”¶é›†å™¨ï¼Œç”¨æ¥å°†éªŒè¯å‡½æ•°çš„ä¸€ç³»åˆ—é”™è¯¯æ”¶é›†åˆ°ä¸€ä¸ª slice ä¸­ï¼Œæ£€æŸ¥ slice çš„é•¿åº¦å¦‚æœå¤§äº 0 æ—¶ï¼Œè¯´æ˜æœ‰é”™è¯¯äº§ç”Ÿï¼Œåˆ™ç¨‹åºé€€å‡ºï¼Œå¦‚ä¸‹ï¼š
package main import ( "errors" "os") func main() { var errs []error errs = append(errs, ValidateName("å¼ ä¸‰")) if len(errs) > 0 { println(errs) os.Exit(1) } } func ValidateName(name string) error { if name != "" { return nil } return errors.New("empty name") } åœ¨ä½¿ç”¨ append å‡½æ•°æ—¶ï¼Œè°¨è®° append å¯èƒ½ä¼šè¿½åŠ  nil å€¼ï¼Œåº”è¯¥å°½é‡é¿å…è¿½åŠ æ— æ„ä¹‰çš„å…ƒç´ ã€‚
...</p></div><footer class=entry-footer><span title='2021-11-02 23:47:33 +0800 CST'>November 2, 2021</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;max</footer><a class=entry-link aria-label="post link to golang ç¼–ç¨‹é™·é˜±---æ‘˜è‡ªã€Šgo ä¸“å®¶ç¼–ç¨‹ã€‹" href=https://www.soundpill.cn/posts/2021-11-02-golang-coding-trap/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>php-tips</h2></header><div class=entry-content><p>åœ¨ foreach ä¸­ä¸è¦ä½¿ç”¨ array_mergeï¼Œä¸ä»…æ…¢è€Œä¸”è€—è´¹å†…å­˜ï¼Œå¯ä»¥åœ¨ foreach ä¸­å¯¹è¦åˆå¹¶çš„æ•°ç»„è¿›è¡Œèµ‹å€¼ï¼Œåœ¨ foreach å¤–éƒ¨ç»Ÿä¸€è¿›è¡Œåˆå¹¶ï¼Œå…·ä½“æ€§èƒ½å·®å¼‚å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šä¸è¦åœ¨å¾ªç¯ä½“ä¸­ä½¿ç”¨ array_merge()
åœ¨ foreach ä¸­ä¹Ÿä¸è¦ä½¿ç”¨ array_pushï¼Œå¯ä»¥é€šè¿‡å‘æ•°ç»„ä¸­èµ‹å€¼çš„æ–¹å¼ä»£æ›¿ï¼Œæ¯”å¦‚ï¼š$students[] = $student[â€˜idâ€™]ï¼Œ è€Œä¸æ˜¯ array_push($students, $student[â€˜idâ€™])ï¼Œå…·ä½“æ€§èƒ½å·®å¼‚å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šä¸è¦åœ¨å¾ªç¯ä½“ä¸­ä½¿ç”¨ array_push()
é’ˆå¯¹ä¸€äº›æŸ¥è¯¢è¾ƒä¸ºå¤æ‚æˆ–è€…æ¯”è¾ƒæ ¸å¿ƒçš„é€»è¾‘é‡Œçš„ sql æŸ¥è¯¢ï¼Œå¯ä»¥å°† sql è¯­å¥å†™åˆ°æ³¨é‡Šä¸­ï¼Œè¿™æ ·çœ‹ä»£ç çš„æ—¶å€™ä¸ç”¨å†å»æ‹¼æ¥ sqlï¼Œç›´æ¥ç”¨æ³¨é‡Šä¸­çš„ sql æ‹¿æ¥æ’æŸ¥é—®é¢˜
å¦‚æœä½¿ç”¨ phpstorm å¯ä»¥å®‰è£… php inspections æ’ä»¶æ¥è¿›è¡Œä»£ç çš„é™æ€åˆ†æï¼Œå¯ä»¥å¸®åŠ©æŸ¥æ‰¾ä»£ç è§„èŒƒï¼Œè¯­æ³•æ¼æ´ï¼Œå‡½æ•°ä½¿ç”¨æ–¹å¼æ–¹é¢çš„é”™è¯¯ã€‚å…¶ä»–çš„ä¸€äº›ä»£ç è´¨é‡å·¥å…·å¯ä»¥é…ç½®ä½¿ç”¨ phpcsï¼Œphpmdï¼Œphpcs-fixerï¼Œpsalmï¼Œphpstan ç­‰ã€‚è€Œä¸”å¯ä»¥é€šè¿‡ phpstorm çš„çƒ­é”®å½•åˆ¶åŠŸèƒ½ï¼Œå°†å¾½æ ‡é”® + s è®¾ç½®ä¸º phpcs-fixerï¼Œformat code çš„å¿«æ·é”®ï¼Œè¿™æ ·å†™å®Œæ—¶å¯ä»¥é€šè¿‡å¿«æ·é”®æ ¼å¼åŒ–ä»£ç ã€‚
ä¸ºé¿å…åœ¨é¡¹ç›®ä¸­å°† ddï¼Œvar_dumpï¼Œexitï¼Œdie ç­‰å‡½æ•°æäº¤åˆ°è¿œç¨‹ç‰ˆæœ¬åº“ä¸­ï¼Œå¯ä»¥åœ¨é¡¹ç›®çš„ .git/hooks/pre-commit ä¸­è¿›è¡Œæ§åˆ¶ï¼ŒåŠ å…¥ä¸‹é¢çš„ä»£ç ï¼Œæ¯æ¬¡æäº¤æ—¶å¯ä»¥æ£€æµ‹åˆ°ã€‚å‚è€ƒçš„è¿™ä¸ªï¼špre-commit
VAR=$(git diff --cached --diff-filter=ACMR | grep -wiE "var_dump|echo|exit|dd|die|console.log") if [ ! -z "\$VAR" ]; then echo "You've left a dd, var_dump, exit, die or console.log in one of your files! You don't really want to commit this so aborting now..." exit 1 fi åœ¨ for å¾ªç¯çš„æ¡ä»¶ä¸­ä¸è¦ä½¿ç”¨å‡½æ•°ï¼Œä¾‹å¦‚ä½¿ç”¨ count æ¥è®¡ç®—æ€»æ•°ï¼Œè¿™æ ·æ¯æ¬¡å¾ªç¯éƒ½ä¼šæ‰§è¡Œä¸€éï¼Œä¸å¤ªå¥½
...</p></div><footer class=entry-footer><span title='2021-08-16 19:03:01 +0800 CST'>August 16, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;max</footer><a class=entry-link aria-label="post link to php-tips" href=https://www.soundpill.cn/posts/2021-08-16-php-tips/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>go-tips</h2></header><div class=entry-content><p>å½“æŠŠæ—¶é—´ä½œä¸ºä¸€ä¸ªå˜é‡ä¼ é€’æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼š waitTime := 30 wait := waitTime * time.Second è¿™æ ·å­æ˜¯é”™è¯¯çš„ï¼Œå› ä¸º waitTime ä¸æ˜¯ time.Duration ç±»å‹ï¼Œä½†å¦‚æœç›´æ¥å†™ 30 * time.Second å°±ä¼šæˆåŠŸÂ åœ¨ä¸å¤ªäº†è§£çš„æƒ…å†µä¸‹ï¼Œæˆ‘æ‰‹åŠ¨æŠŠ waitTime é€šè¿‡â€œè¯¡å¼‚â€çš„æ–¹å¼å˜æˆäº† time.Duration ç±»å‹
waitTime := 30 * time.Second wait := waitTime * time.Second è¿™ç§æƒ…å†µä¸‹ wait çš„å€¼å°±å˜æˆäº† 88 ä¸‡å°æ—¶ï¼Œä¸æ˜¯é¢„æƒ³çš„ç»“æœï¼Œæ­£ç¡®çš„å†™æ³•å¦‚ä¸‹ï¼š
waitTime := 30 wait := time.Duration(waitTime) * time.Second å½“ waitGroup ä½¿ç”¨æ—¶è¦æ¸…æ¥šçš„çŸ¥é“ Done æ–¹æ³•çš„æ‰§è¡Œæ¬¡æ•°ï¼Œå¦‚æœæ˜¯ç±»ä¼¼é€’å½’çš„ç»“æ„ï¼Œæ‰§è¡Œäº†å¤šæ¬¡ Done æ–¹æ³•ï¼Œåˆ™ä¼šå¯¼è‡´waitGroup çš„è®¡æ•°å™¨æº¢å‡ºï¼Œå¯¼è‡´è¾¹ç•Œé”™è¯¯ï¼Œå¦‚ä¸‹ï¼š è¿™æ®µä»£ç è¿è¡Œæ—¶ä¼šå¯¼è‡´ panic: sync: negative WaitGroup counterï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å®é™…ç¼–å†™ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰ç±»ä¼¼çš„æƒ…å†µï¼Œå¯ä»¥é€šè¿‡å°†æœ‰é™æ¬¡æ•°çš„é€’å½’è½¬æ¢ä¸ºè¿­ä»£çš„å½¢å¼æ¥è§„é¿è¿™ç§é—®é¢˜ã€‚æ€»ä¹‹ï¼Œä½ éœ€è¦æ˜ç¡®çš„çŸ¥é“ Done æ–¹æ³•æ‰§è¡Œäº†å‡ æ¬¡ã€‚
åœ¨ goroutine ä½¿ç”¨çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬æ˜¯æ— æ³•æ‹¿åˆ°å½“å‰ goroutine çš„æŠ¥é”™ä¿¡æ¯çš„ï¼Œä»è€Œå¯èƒ½éœ€è¦é¢å¤–å»ºç«‹ä¸€ä¸ªé€šé“ï¼Œå°†æŠ¥é”™ä¿¡æ¯ä¼ é€’åˆ°æŸä¸€ä¸ª channel ä¸­ï¼Œç„¶åç›‘å¬ channel æ¥è¿›è¡Œé”™è¯¯å¤„ç†ã€‚å®˜æ–¹æä¾›äº†ä¸€é¡¹å®éªŒåŠŸèƒ½ï¼Œå¯ä»¥ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å®˜æ–¹åŒ…åœ¨è¿™é‡Œï¼šgolang.org/x/sync/errgroup
åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¯ä»¥ä½¿ç”¨ go vet å·¥å…·æ¥æ£€æµ‹å¯èƒ½ä¼šå‡ºç°çš„ä»£ç æ¼æ´ï¼Œå¸®åŠ©æŸ¥æ¼è¡¥ç¼ºã€‚ä½¿ç”¨æ–¹å¼
åœ¨å¼€å‘æ—¶è¦ä½¿ç”¨ internal ä¸‹çš„ log åŒ…æ‰“æ—¥å¿—æ‰èƒ½è¢« ELK æ•è·åˆ°ï¼Œlogrus åˆ™ä¸è¡Œï¼Œä½†å¦‚æœå‘½ä»¤è¡Œä¸­çš„å³ä½¿åé¦ˆæ—¥å¿—ï¼Œæˆ–è€…å³æ—¶æ€§æ¯”è¾ƒå¼ºæ²¡æœ‰ç•™å­˜æ„ä¹‰çš„æ—¥å¿—ï¼Œç†å½“ä¸è®¡å…¥ ELK çš„ç»Ÿè®¡å½“ä¸­ï¼Œè¿™æ—¶å€™éœ€è¦ç”¨ logrus
å­—ç¬¦ä¸²æ‹¼æ¥ä½¿ç”¨å“ªç§æ–¹å¼æ›´å¿«å‘¢ï¼Ÿ
å·²çŸ¥çš„å››ç§æ–¹å¼åˆ†åˆ«æ˜¯ï¼š1. ä½¿ç”¨ fmt.Sprintf å‡½æ•° 2. ä½¿ç”¨åŠ å·æ‹¼æ¥ 3. ä½¿ç”¨ strings åŒ… 4. ä½¿ç”¨ bytes
...</p></div><footer class=entry-footer><span title='2021-08-16 18:40:38 +0800 CST'>August 16, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;max</footer><a class=entry-link aria-label="post link to go-tips" href=https://www.soundpill.cn/posts/2021-08-16-go-tips/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://www.soundpill.cn/page/2/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://www.soundpill.cn/>Beoning</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>